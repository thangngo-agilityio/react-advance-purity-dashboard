import{e as w,f as C,g as d,m as i,h as t}from"./index-DBO7DDJG.js";const T=()=>{const o=w(),{data:r,isLoading:p,isFetching:y}=C({queryKey:[t.PROJECT],queryFn:async()=>(await i.get(`${t.PROJECT}?view=Grid%20view`)).data,refetchOnWindowFocus:!1}),f=(r==null?void 0:r.records)||[],{mutateAsync:P}=d({mutationFn:async s=>(await i.post(t.PROJECT,s)).data,onSuccess:s=>{const n=s.records;o.setQueryData([t.PROJECT],e=>({records:[...n,...(e==null?void 0:e.records)||[]]}))}}),{mutateAsync:m}=d({mutationFn:async s=>(await i.put(t.PROJECT,s)).data,onSuccess:async(s,n)=>{const e=n.records;o.setQueryData([t.PROJECT],a=>{var u;return{records:(u=a==null?void 0:a.records)==null?void 0:u.map(c=>c.id===e[0].id?{...c,fields:{...c.fields,projectName:e[0].fields.projectName,avatar:e[0].fields.avatar,budget:e[0].fields.budget,status:e[0].fields.status,completion:e[0].fields.completion,description:e[0].fields.description}}:c)}})}});return{projectData:f,isLoading:p,isFetching:y,createProject:P,updateProject:m}};export{T as u};
